{"ast":null,"code":"const initialState = {\n  cart: [],\n  totalPrice: 0\n};\nconst cartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  if (action.type == 'Cart_Update') {\n    console.log('ne if', state, state.cart, state.cart.length);\n    if (!state.cart.length) {\n      console.log('cart is []');\n      return {\n        ...state,\n        cart: [...state.cart, action.payload],\n        totalPrice: state.totalPrice + action.payload.totalPrice\n      };\n    } else {\n      const item = state.cart.find(item => item.id === action.payload.id);\n      if (item) {\n        return {\n          ...state,\n          cart: state.cart.map(item => item.id === action.payload.id ? {\n            ...item,\n            quantity: item.quantity + action.payload.quantity\n          } : item),\n          totalPrice: state.totalPrice + action.payload.totalPrice\n        };\n      }\n      return {\n        ...state,\n        cart: state.cart.concat(action.payload),\n        totalPrice: state.totalPrice + action.payload.totalPrice\n      };\n    }\n  } else {\n    return state;\n  }\n};\nexport default cartReducer;","map":{"version":3,"names":["initialState","cart","totalPrice","cartReducer","state","arguments","length","undefined","action","type","console","log","payload","item","find","id","map","quantity","concat"],"sources":["/Users/simisl/Downloads/internshala_react_programs/ecommerce/frontend/src/redux/cartReducer.js"],"sourcesContent":["\n\nconst initialState = {\n    cart:[],\n    totalPrice: 0\n}\n\nconst cartReducer = (state=initialState, action) => {\n    \n    if(action.type == 'Cart_Update'){\n        console.log('ne if',state,state.cart,state.cart.length)\n        if(!state.cart.length){\n            console.log('cart is []')\n            return{...state, \n                    cart:[...state.cart,action.payload],\n                    totalPrice:  state.totalPrice + action.payload.totalPrice}\n        }\n        else{\n            const item = state.cart.find(item=>item.id === action.payload.id);\n            if(item){\n                return {...state,\n                    cart: state.cart.map(item=>item.id === action.payload.id ?\n                           {...item, quantity:item.quantity+action.payload.quantity}:item),\n                    totalPrice: state.totalPrice + action.payload.totalPrice\n                    }\n            }\n            return {...state,\n                    cart: state.cart.concat(action.payload),\n                    totalPrice: state.totalPrice + action.payload.totalPrice\n                }\n            \n    }\n}\n    else{\n        return state;\n    }\n  \n}\n\nexport default cartReducer"],"mappings":"AAEA,MAAMA,YAAY,GAAG;EACjBC,IAAI,EAAC,EAAE;EACPC,UAAU,EAAE;AAChB,CAAC;AAED,MAAMC,WAAW,GAAG,SAAAA,CAAA,EAAgC;EAAA,IAA/BC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAACL,YAAY;EAAA,IAAEQ,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAE3C,IAAGC,MAAM,CAACC,IAAI,IAAI,aAAa,EAAC;IAC5BC,OAAO,CAACC,GAAG,CAAC,OAAO,EAACP,KAAK,EAACA,KAAK,CAACH,IAAI,EAACG,KAAK,CAACH,IAAI,CAACK,MAAM,CAAC;IACvD,IAAG,CAACF,KAAK,CAACH,IAAI,CAACK,MAAM,EAAC;MAClBI,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;MACzB,OAAM;QAAC,GAAGP,KAAK;QACPH,IAAI,EAAC,CAAC,GAAGG,KAAK,CAACH,IAAI,EAACO,MAAM,CAACI,OAAO,CAAC;QACnCV,UAAU,EAAGE,KAAK,CAACF,UAAU,GAAGM,MAAM,CAACI,OAAO,CAACV;MAAU,CAAC;IACtE,CAAC,MACG;MACA,MAAMW,IAAI,GAAGT,KAAK,CAACH,IAAI,CAACa,IAAI,CAACD,IAAI,IAAEA,IAAI,CAACE,EAAE,KAAKP,MAAM,CAACI,OAAO,CAACG,EAAE,CAAC;MACjE,IAAGF,IAAI,EAAC;QACJ,OAAO;UAAC,GAAGT,KAAK;UACZH,IAAI,EAAEG,KAAK,CAACH,IAAI,CAACe,GAAG,CAACH,IAAI,IAAEA,IAAI,CAACE,EAAE,KAAKP,MAAM,CAACI,OAAO,CAACG,EAAE,GACjD;YAAC,GAAGF,IAAI;YAAEI,QAAQ,EAACJ,IAAI,CAACI,QAAQ,GAACT,MAAM,CAACI,OAAO,CAACK;UAAQ,CAAC,GAACJ,IAAI,CAAC;UACtEX,UAAU,EAAEE,KAAK,CAACF,UAAU,GAAGM,MAAM,CAACI,OAAO,CAACV;QAC9C,CAAC;MACT;MACA,OAAO;QAAC,GAAGE,KAAK;QACRH,IAAI,EAAEG,KAAK,CAACH,IAAI,CAACiB,MAAM,CAACV,MAAM,CAACI,OAAO,CAAC;QACvCV,UAAU,EAAEE,KAAK,CAACF,UAAU,GAAGM,MAAM,CAACI,OAAO,CAACV;MAClD,CAAC;IAEb;EACJ,CAAC,MACO;IACA,OAAOE,KAAK;EAChB;AAEJ,CAAC;AAED,eAAeD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}