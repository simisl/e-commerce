{"ast":null,"code":"const initialState = {\n  cart: [],\n  totalPrice: 0\n};\nconst cartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  console.log('totalprice', state.totalPrice);\n  if (action.type === 'Cart_Update') {\n    console.log('ne if', state, state.cart, state.cart.length);\n    if (!state.cart.length) {\n      console.log('cart is []');\n      return {\n        ...state,\n        cart: [...state.cart, action.payload],\n        totalPrice: state.totalPrice + action.payload.totalPrice * action.payload.quantity\n      };\n    } else {\n      console.log(\"item exists in cart\");\n      const item = state.cart.find(item => item.id === action.payload.id);\n      if (item) {\n        return {\n          ...state,\n          cart: state.cart.map(item => item.id === action.payload.id ? {\n            ...item,\n            quantity: item.quantity + action.payload.quantity,\n            totalPrice: (item.quantity + 1) * item.price\n          } : item),\n          totalPrice: state.totalPrice + action.payload.totalPrice * action.payload.quantity\n        };\n      }\n      return {\n        ...state,\n        cart: state.cart.concat(action.payload),\n        totalPrice: state.totalPrice + action.payload.totalPrice * action.payload.quantity\n      };\n    }\n  } else if (action.type === 'Cart_Remove') {\n    console.log(\"cart remove\", action.payload);\n    return {\n      ...state,\n      cart: state.cart.filter(item => item.id != action.payload.id),\n      totalPrice: state.totalPrice - action.payload.totalPrice\n    };\n  } else if (action.type === 'Cart_Clear') {\n    return {\n      ...state,\n      cart: [],\n      totalPrice: 0\n    };\n  } else {\n    return state;\n  }\n};\nexport default cartReducer;","map":{"version":3,"names":["initialState","cart","totalPrice","cartReducer","state","arguments","length","undefined","action","console","log","type","payload","quantity","item","find","id","map","price","concat","filter"],"sources":["/Users/simisl/Downloads/internshala_react_programs/ecommerce/frontend/src/redux/cartReducer.js"],"sourcesContent":["\n\nconst initialState = {\n    cart:[],\n    totalPrice: 0\n}\n\nconst cartReducer = (state=initialState, action) => {\n    console.log('totalprice', state.totalPrice)\n    if(action.type === 'Cart_Update'){\n        console.log('ne if',state,state.cart,state.cart.length)\n        if(!state.cart.length){\n            console.log('cart is []')\n            return{...state, \n                    cart:[...state.cart,action.payload],\n                    totalPrice:  state.totalPrice + (action.payload.totalPrice * action.payload.quantity)}\n        }\n        else{\n            console.log(\"item exists in cart\")\n            const item = state.cart.find(item=>item.id === action.payload.id);\n            if(item){\n                return {...state,\n                    cart: state.cart.map(item=>item.id === action.payload.id ?\n                           {...item, quantity:item.quantity+action.payload.quantity, totalPrice: (item.quantity+1)*item.price}:item),\n                    totalPrice: state.totalPrice + (action.payload.totalPrice * action.payload.quantity)\n                    }\n            }\n            return {...state,\n                    cart: state.cart.concat(action.payload),\n                    totalPrice: state.totalPrice + (action.payload.totalPrice * action.payload.quantity)\n                }\n            \n    }\n}\n\n    else if(action.type === 'Cart_Remove'){\n       console.log(\"cart remove\",action.payload) \n      \n        return {\n            ...state,\n            cart: state.cart.filter(item=>item.id != action.payload.id),\n            totalPrice: state.totalPrice - action.payload.totalPrice\n        }\n\n    }\n\n    else if(action.type === 'Cart_Clear'){\n        return {\n            ...state,\n            cart: [],\n            totalPrice: 0\n        }\n\n    }\n   \n    else{\n        return state;\n    }\n  \n}\n\nexport default cartReducer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}